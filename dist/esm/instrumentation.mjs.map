{"version":3,"file":"instrumentation.mjs","sources":["../../src/instrumentation.ts"],"sourcesContent":["import { NodeSDK } from '@opentelemetry/sdk-node';\nimport { LangfuseSpanProcessor } from '@langfuse/otel';\nimport { isPresent } from '@/utils/misc';\n\nif (\n  isPresent(process.env.LANGFUSE_SECRET_KEY) &&\n  isPresent(process.env.LANGFUSE_PUBLIC_KEY) &&\n  isPresent(process.env.LANGFUSE_BASE_URL)\n) {\n  const langfuseSpanProcessor = new LangfuseSpanProcessor({\n    publicKey: process.env.LANGFUSE_PUBLIC_KEY,\n    secretKey: process.env.LANGFUSE_SECRET_KEY,\n    baseUrl: process.env.LANGFUSE_BASE_URL,\n    environment: process.env.LANGFUSE_TRACING_ENVIRONMENT ?? process.env.NODE_ENV ?? 'development',\n  });\n\n  const sdk = new NodeSDK({\n    spanProcessors: [langfuseSpanProcessor],\n  });\n\n  sdk.start();\n}\n"],"names":[],"mappings":";;;;AAIA,IACE,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC;AAC1C,IAAA,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC;IAC1C,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,EACxC;AACA,IAAA,MAAM,qBAAqB,GAAG,IAAI,qBAAqB,CAAC;AACtD,QAAA,SAAS,EAAE,OAAO,CAAC,GAAG,CAAC,mBAAmB;AAC1C,QAAA,SAAS,EAAE,OAAO,CAAC,GAAG,CAAC,mBAAmB;AAC1C,QAAA,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,iBAAiB;AACtC,QAAA,WAAW,EAAE,OAAO,CAAC,GAAG,CAAC,4BAA4B,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAI,aAAa;AAC/F,KAAA,CAAC;AAEF,IAAA,MAAM,GAAG,GAAG,IAAI,OAAO,CAAC;QACtB,cAAc,EAAE,CAAC,qBAAqB,CAAC;AACxC,KAAA,CAAC;IAEF,GAAG,CAAC,KAAK,EAAE;AACb"}